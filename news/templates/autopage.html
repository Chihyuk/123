{% extends 'test.html' %}

{% block container_start %}
{% for cat in category %}
<div class="container">

    {% load mathfilters %}
    <div class="world-news">
      
      <div class="row">
        <div class="col-sm-12">
          <div class="d-flex position-relative  float-left">
            <h3 class="section-title">{{ cat.c_name }}</h3>
          </div>
        </div>
      </div>


{% endfor %}
{% endblock container_start %}

{% block container_content %}
      <!-- 내용 처리 시작 -->
      </h1>
      <div id="autocontent">
        <div class="page-list" style="margin-top: 2rem;">
          <!-- 페이지리스트 -->
          {% for page_number in page_obj.paginator.page_range %}
            {% if page_number >= page_obj.number|add:-5 and page_number <= page_obj.number|add:5 %}
              {% if page_number == page_obj.number %}

                {% for news in news_list %}
                  {% if forloop.counter > page_number|add:-1|mul:3 and forloop.counter <= page_number|mul:3 %}
                  <div class="row mb-5">
                    <div class="col-lg-6">
                      <img
                      src="{{ news.nd_img }}"
                      class="img-fluid1" alt="world-news" />
                    </div>
                    <div class="col-lg-6">
                      <h1 class="font-weight-600 mt-5">
                        {{ news.n_title }}
                      </h1>
                      <p>
                        {{ news.nso_content }}
                      </p>
                      <a href="{% url 'travel' %}" class="font-weight-bold text-dark pt-2">Read Article</a>
                    </div>
                  </div>
                  {% endif %}
                {% endfor %}

              {% endif %}
            {% endif %}
          {% endfor %}
        </div>
      </div>
      <!-- 페이징처리 끝 -->

    </div>
  </div>
{% endblock container_content %}


{% block container_content_index %}
{% for cat in category %}
<div class="container">

    {% load mathfilters %}
    <div class="world-news">
      
      <div class="row">
        <div class="col-sm-12">
          <div class="d-flex position-relative  float-left">
            <h3 class="section-title">{{ cat.c_name }}</h3>
          </div>
        </div>
      </div>
      <!-- 내용 처리 시작 -->
      </h1>
      <div id="autocontent">
        <div class="page-list" style="margin-top: 2rem;">
          <!-- 페이지리스트 -->
          {% for page_number in page_obj.paginator.page_range %}
            {% if page_number >= page_obj.number|add:-5 and page_number <= page_obj.number|add:5 %}
              {% if page_number == page_obj.number %}

                {% for news in news_list %}
                  {% if forloop.counter > page_number|add:-1|mul:3 and forloop.counter <= page_number|mul:3 %}
                  <div class="row mb-5">
                    <div class="col-lg-6">
                      <img
                      src="{{ news.nd_img }}"
                      class="img-fluid1" alt="world-news" />
                    </div>
                    <div class="col-lg-6">
                      <h1 class="font-weight-600 mt-5">
                        {{ news.n_title }}
                      </h1>
                      <p>
                        {{ news.nso_content }}
                      </p>
                      <a href="{% url 'travel' %}" class="font-weight-bold text-dark pt-2">Read Article</a>
                    </div>
                  </div>
                  {% endif %}
                {% endfor %}

              {% endif %}
            {% endif %}
          {% endfor %}
        </div>
      </div>
      <!-- 페이징처리 끝 -->

    </div>
  </div>
  {% endfor %}
{% endblock container_content_index %}


{% block paging %}
<!-- 페이징처리 시작 -->
  <div id="paging">
    <ul class="pagination justify-content-center" style="margin-top: 2rem;">
      <!-- 이전페이지 -->
      {% if page_obj.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?&page={{ page_obj.previous_page_number }}">이전</a>
        <!-- href로 뎁스 설정 -->
      </li>
      {% else %}
      <li class="page-item disabled">
        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">이전</a>
      </li>
      {% endif %}
        <!-- 페이지리스트 -->
        {% for page_number in page_obj.paginator.page_range %}
          {% if page_number >= page_obj.number|add:-5 and page_number <= page_obj.number|add:5 %}
            {% if page_number == page_obj.number %}

              <li class="page-item active" aria-current="page">
                <a class="page-link" href="?&page={{ page_number }}">{{ page_number }}</a>
              </li>
            {% else %}
              <li class="page-item">
                <a class="page-link" href="?&page={{ page_number }}">{{ page_number }}</a>
              </li>
            {% endif %}
          {% endif %}
        {% endfor %}
      <!-- 다음페이지 -->
      {% if page_obj.has_next %}
        <li class="page-item">
          <a class="page-link" href="?&page={{ page_obj.next_page_number }}">다음</a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" tabindex="-1" aria-disabled="true" href="#">다음</a>
        </li>
      {% endif %}
    </ul>
</div>
<!-- 페이징처리 끝 -->
{% endblock paging %}